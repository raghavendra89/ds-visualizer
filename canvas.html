<!DOCTYPE html>
<html>
<head>
    <title>Binary Tree in a Canvase</title>
    <style>
        #bt-visualizer {
            width: 100%;
            max-width: 900px;
            margin: auto;
            text-align: center;
        }
        canvas {
            box-shadow: rgba(50, 50, 93, 0.25) 0px 6px 12px -2px, rgba(0, 0, 0, 0.3) 0px 3px 7px -3px;
        }
    </style>
</head>
<body>

    <div id="bt-visualizer">
        <canvas width="700px" height="500px">
            Binary Tree Visualization
        </canvas>
    </div>

    <script>
        function drawBinaryTree() {
            const root = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
            let nodes = [];

            const canvas = document.querySelector('canvas');
            const ctx = canvas.getContext('2d');
            ctx.font = "bold 20px sans-serif";
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            // const levels = [];
            // var i = 0;
            // while (root.length) {
            //     levels.push(
            //         root.splice(0, Math.pow(2, i))
            //     );
            //     i++;
            // }

            // let subLevels;
            // let x;
            // let y;
            // let gap;
            // for (var i = 0; i < levels.length; i++) {
            //     subLevels = levels[i];

            //     gap = 700 / (Math.pow(2, i) + 1);
            //     x = gap;
            //     y = 100 + (100 * i);
            //     for (var j = 0; j < subLevels.length; j++) {
            //         ctx.beginPath();
            //         ctx.arc(x, y, 25, 0, Math.PI * 2, true);
            //         ctx.stroke();

            //         x += gap;
            //     }
            // }

            let x = 340;
            let y = 100;
            nodes.push({x: x, y: y});

            x = 180;
            y = 200;
            for (var i = 0; i < 2; i++) {
                nodes.push({x: x, y: y});
                x += 334;
            }

            x = 100;
            y = 300;
            for (var i = 0; i < 4; i++) {
                nodes.push({x: x, y: y});
                x += 166.67;
            }

            x = 60;
            y = 400;
            for (var i = 0; i < 8; i++) {
                nodes.push({x: x, y: y});
                x += 83;
            }

            drawLines(ctx, nodes);
            drawCircles(ctx, nodes, root);
        }

        function drawLines(ctx, nodes) {
            let connectingNode = 1;
            for (var i = 0; connectingNode < nodes.length; i++) {
                ctx.beginPath();
                ctx.moveTo(nodes[i].x, nodes[i].y);
                ctx.lineTo(nodes[connectingNode].x, nodes[connectingNode].y);
                ctx.stroke();

                connectingNode++;
                ctx.beginPath();
                ctx.moveTo(nodes[i].x, nodes[i].y);
                ctx.lineTo(nodes[connectingNode].x, nodes[connectingNode].y);
                ctx.stroke();

                connectingNode++;
            }
        }

        function drawCircles(ctx, nodes, root) {
            for (var i = 0; i < nodes.length; i++) {
                ctx.beginPath();
                ctx.arc(nodes[i].x, nodes[i].y, 25, 0, Math.PI * 2, true);
                ctx.stroke();
                ctx.fillStyle = '#ECECEC';
                // ctx.fillStyle = '#FFFAE6';
                // ctx.fillStyle = '#D6EBF2';
                // ctx.fillStyle = '#ADD8E6';
                ctx.fill();

                ctx.fillStyle = 'black';
                ctx.fillText(root[i], nodes[i].x, nodes[i].y);
            }
        }

        drawBinaryTree();
    </script>
</body>
</html>